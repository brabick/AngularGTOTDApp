<div class="container mt-5 text-center">

</div>

<div class="container d-flex p-2" *ngIf="response">
  <ul class="gtotds">
    <li *ngFor="let gtotd of gtotds">
      <div class="card mb-3 gtotd">
        <div class="card-body">
          <div class="gtotd_header">
            <img src='{{image}}' class="profilePic gtotd_header_item" alt="image">
            <h3 class="gtotd_header_item">{{gtotd.title}}</h3>
          </div>
          <div class="gtotd_header">

            <p class="gtotd_header_item">By: {{gtotd.user}}</p>
            <p class="gtotd_header_item">On: {{gtotd.date_created}}</p>
          </div>
          <hr/>
          <p>{{gtotd.body}}</p>

          <a routerLink="/gtotd/{{gtotd.id}}" class="btn btn-primary">Comment</a>
        </div>
        <br/>
      </div>
      <form [formGroup]="form" (submit)="submit()" *ngIf="authenticated">
        <h1 class="h3 mb-3 fw-normal">New Comment</h1>

        <div class="form-floating">
          <textarea formControlName="body" type="text" class="form-control" placeholder="Body"> </textarea>
          <label>Body</label>
        </div>

        <button class="w-100 btn btn-lg btn-primary" type="submit">Submit</button>
      </form>
    </li>
  </ul>
</div>


<div class="container d-flex p-2" *ngIf="comment">
  <ul class="comments gtotd">
    <li *ngFor="let com of comments">
      <div class="card">
        <div class="card-body">
          <h5>{{com.user}} {{com.date_created}}</h5>
          <hr/>
          <p>{{com.body}}</p>
        </div>
      </div>
    </li>
  </ul>
</div>


<div class="container d-flex p-2" *ngIf="!response">
  <p>Nothing to see here, move along.</p>
</div>

<div class="container d-flex p-2" *ngIf="!comment">
  <p>There are no comments. Why not be the first?</p>
</div>
